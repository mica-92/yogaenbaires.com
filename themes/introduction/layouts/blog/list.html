{{ define "title" }}{{ end }}

{{ define "main" }}
{{ partial "navbar.html" .}}

<div class="single-column-layout" id="el_sendero">
    <div class="content-container">
            {{partial "images/elsemillerogris" .}}


        <!-- Main content -->
        <div class="main-content">

            {{ with .Site.GetPage "/blog" }}
            <div class="posts-container">
                {{ range where .Pages.ByPublishDate.Reverse ".Params.highlight" true }}

                    <h2 class="post-title">
                        <a href="{{ .Permalink }}">{{ .Title | markdownify }}</a>
                    </h2>
                    {{ if .Params.description }}
                    <div class="post-description">
                        {{ .Params.description | markdownify }}
                    </div>
                    {{ end }}
                    <hr class="post-divider">

                {{ end }}
            </div>
            {{ end }}
        </div>
    </div>
</div>

<style>
/* Base Styles */
:root {
    --red: #CD5C5C;
    --gray: #6c6464;
    --brown: #6b3d08;
}

.single-column-layout {
    width: 100%;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    padding-top: 80px; /* Space for navbar */
}

.content-container {
    width: 100%;
    max-width: 800px;
    padding: 2rem;
}

.mobile-header {
    text-align: center;
    margin-bottom: 2rem;
}

.slogan-home {
    font-size: 1.8rem;
    color: #2c2900;
    line-height: 1.3;
}

.page-title {
    font-size: 3rem;
    margin: 0 0 2rem 0;
    line-height: 1.3;
    font-weight: 600;
    color: #555;
    text-align: center;
}

.posts-container {
    margin-top: 2rem;
}

.post-title {
    font-size: 1.8rem;
    margin: 0 0 0.5rem 0;
    line-height: 1.3;
    font-weight: 600;
    color: var(--gray);
}

.post-title a {
    text-decoration: none;
    color: inherit;
    transition: color 0.3s ease;
}

.post-title a:hover {
    color: var(--brown);
}

.post-description {
    font-size: 1.1rem;
    line-height: 1.5;
    color: #555;
    margin-bottom: 1rem;
}

.post-divider {
    border: none;
    height: 1px;
    background-color: #e0e0e0;
    margin: 1.5rem 0;
}

/* Mobile Styles */
@media screen and (max-width: 768px) {
    .content-container {
        padding: 1.5rem;
    }
    
    .slogan-home {
        font-size: 1.4rem;
    }
    
    .page-title {
        font-size: 2.2rem;
    }
    
    .post-title {
        font-size: 1.5rem;
    }
    
    .post-description {
        font-size: 1rem;
    }
}

@media screen and (max-width: 500px) {
    .slogan-home {
        font-size: 1.2rem;
    }
    
    .page-title {
        font-size: 1.8rem;
    }
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize all map overlays
    document.querySelectorAll('.map-overlay').forEach(overlay => {
        overlay.addEventListener('click', function() {
            enableMapInteractivity(this);
        });
    });

    function enableMapInteractivity(overlay) {
        const container = overlay.closest('.elegant-map-container');
        const iframe = container.querySelector('iframe');
        
        // First remove pointer-events none from iframe
        iframe.style.pointerEvents = 'auto';
        
        // Hide the overlay
        overlay.style.display = 'none';
        
        // Set timeout to reset after 5 minutes (300,000ms)
        const timeoutId = setTimeout(() => {
            iframe.style.pointerEvents = 'none';
            overlay.style.display = 'block';
        }, 300000);
        
        // Also reset when clicking anywhere outside the map
        document.addEventListener('click', function outsideClickHandler(e) {
            if (!container.contains(e.target)) {
                iframe.style.pointerEvents = 'none';
                overlay.style.display = 'block';
                clearTimeout(timeoutId);
                document.removeEventListener('click', outsideClickHandler);
            }
        });
    }
});
</script>
{{ end }}