<div class="contact-grid">
    <!-- Left Column - Contact Info -->
    <div class="contact-info">


        <div class="connect-item">
           <br> <h3>- Direcci√≥n:</h3><br>
            <div class="address-container">
                <a href="https://www.google.com/maps/place/?q=place_id:{{ .Params.direccion.maps | replaceRE `.*!3d([^!]+).*` `$1` }}" 
                   target="_blank" 
                   class="address-link">
                    {{ .Params.direccion.texto | markdownify }}
                </a>
            </div>
        </div>

        {{ if .Params.instagram }}
        <div class="connect-item">
            <h3>- Instagram:</h3><br>
            <a class="address-link" href="{{ .Params.instagram }}" target="_blank" class="connect-link">
                {{ replace .Params.instagram "https://www.instagram.com/" "@" }}
            </a>
        </div>
        {{ end }}
        
        {{ if .Params.website }}
        <div class="connect-item">
            <h3>- Website:</h3><br>
            <a href="{{ if hasPrefix .Params.website "http" }}{{ .Params.website }}{{ else }}https://{{ .Params.website }}{{ end }}" 
               target="_blank" 
               rel="noopener noreferrer"
               class="address-link">
               {{ replaceRE `^(https?:\/\/)?(www\.)?([^\/]+)(\/.*)?$` `$3` .Params.website }}
            </a>
        </div>
        {{ end }}
    </div>

    <!-- Right Column - Instagram -->
    {{ partial "single-map.html" . }}

</div>

<style>
:root {
    --red: #CD5C5C;
    --gray: #6c6464;
}

.connect-item h2 {
    font-size: 1.4rem;
    color: var(--red);
    margin-bottom: 1rem;
    margin-top: 2rem;
    font-weight: 500;
}

.connect-item h3 {
    font-size: 1.2rem;
    color: var(--gray);
    margin-bottom: 0.5rem;
    font-weight: 600;
    display: inline;
}

.connect-item a {
    margin-left: 1rem;
}

.address-link {
    display: inline-block;
    color: var(--gray);
    text-decoration: none;
    font-weight: 500;
    margin-bottom: 0.5rem;
    padding: 0.3rem 0.5rem;
    border-radius: 4px;
    transition: all 0.3s ease;
}

.address-link:hover {
    color: var(--red);
}

.contact-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: start;
}

.contact-info {
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* Instagram Profile Embed Styles */
.contact-instagram-column {
    display: flex;
}

.contact-instagram-wrapper {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    width: 100%;
}

.contact-instagram-container {
    flex-grow: 1;
    min-height: 300px;
    width: 100%;
}

.instagram-profile-media {
    height: 100% !important;
    min-height: 100%;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
}

@media (max-width: 768px) {
    .contact-grid {
        grid-template-columns: 1fr;
    }
    
    .contact-instagram-container {
        min-height: 250px;
    }
}

</style>